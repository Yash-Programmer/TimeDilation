# Visualization macro for TimeDilationSim
# Use: ./TimeDilationSim vis.mac

# Initialize visualization
/vis/open OGL 600x600-0+0

# Disable auto refresh for performance
/vis/viewer/set/autoRefresh false
/vis/verbose errors

# Draw geometry
/vis/drawVolume

# Specify view angle
/vis/viewer/set/viewpointVector 1 1 1
/vis/viewer/set/lightsVector  -1 0 0

# Draw smooth trajectories
/vis/scene/add/trajectories smooth
/vis/modeling/trajectories/create/drawByCharge
/vis/modeling/trajectories/drawByCharge-0/default/setDrawStepPts true
/vis/modeling/trajectories/drawByCharge-0/default/setStepPtsSize 2

# Color by particle type
/vis/modeling/trajectories/create/drawByParticleID
/vis/modeling/trajectories/drawByParticleID-0/set pi+ red
/vis/modeling/trajectories/drawByParticleID-0/set kaon+ blue
/vis/modeling/trajectories/drawByParticleID-0/set mu+ green
/vis/modeling/trajectories/drawByParticleID-0/set opticalphoton yellow

# Accumulate events
/vis/scene/endOfEventAction accumulate

# Draw axes
/vis/scene/add/axes 0 0 0 1 m

# Re-establish auto refreshing
/vis/viewer/set/autoRefresh true
/vis/verbose warnings

# For interactive session
/control/execute run.mac
